{{ define "main" }}
<section class="container mx-auto px-4 py-8 md:pt-[10rem] pt-[8rem] relative z-20 flex-grow pb-20">
  <div class="grid grid-cols-3">
    <div class="col-span-2">
      <h1 class="md:text-4xl text-2xl text-bold text-neutral-50 font-medium text-left">
        {{ .Title }}
      </h1>
      <p class="mt-6 text-lg">{{ .Description }}</p>
    </div>
    <div class="col-span-1 text-right" style="text-align: -webkit-right;">
      <svg width="128" height="129" viewBox="0 0 128 129" fill="none" xmlns="http://www.w3.org/2000/svg">
        <g clip-path="url(#clip0_1250_14702)">
          <path
            d="M86.5 80.0547C85.1195 80.0547 84 81.1739 84 82.5547V99.8047C84 106.697 78.3925 112.305 71.5 112.305H44.508C43.1278 112.305 42.009 113.423 42.008 114.803L42.0045 119.773L36.0375 113.807C35.6512 112.92 34.7673 112.305 33.7448 112.305H17.5C10.6075 112.305 5 106.697 5 99.8047V61.3047C5 54.4122 10.6075 48.8047 17.5 48.8047H42.75C44.1305 48.8047 45.25 47.6854 45.25 46.3047C45.25 44.9239 44.1305 43.8047 42.75 43.8047H17.5C7.8505 43.8047 0 51.6552 0 61.3047V99.8047C0 109.454 7.8505 117.305 17.5 117.305H32.4645L42.7323 127.572C43.2105 128.051 43.8498 128.305 44.5005 128.305C44.8223 128.305 45.147 128.242 45.4557 128.115C46.39 127.728 46.9992 126.817 47 125.806L47.006 117.305H71.5C81.1495 117.305 89 109.454 89 99.8047V82.5547C89 81.1739 87.8805 80.0547 86.5 80.0547Z"
            fill="#A2A2A2" />
          <path
            d="M91.6637 0.304688H85.3365C65.3005 0.304688 49 16.6052 49 36.6412C49 56.6772 65.3005 72.9774 85.3363 72.9774H91.6635C94.7907 72.9774 97.886 72.5802 100.886 71.7952L110.233 81.1367C110.711 81.6144 111.35 81.8684 112.001 81.8684C112.323 81.8684 112.648 81.8062 112.957 81.6779C113.891 81.2909 114.5 80.3794 114.5 79.3684V64.9044C118.457 61.6997 121.744 57.6514 124.051 53.1289C126.672 47.9924 128 42.4452 128 36.6412C128 16.6052 111.7 0.304688 91.6637 0.304688ZM110.496 61.6884C109.869 62.1607 109.5 62.9002 109.5 63.6854V73.3354L103.382 67.2209C102.906 66.7454 102.268 66.4892 101.615 66.4892C101.37 66.4892 101.122 66.5254 100.881 66.5997C97.905 67.5142 94.804 67.9777 91.6637 67.9777H85.3365C68.0573 67.9777 54 53.9202 54 36.6412C54 19.3622 68.0575 5.30469 85.3365 5.30469H91.6637C108.943 5.30469 123 19.3622 123 36.6412C123 46.5739 118.442 55.7034 110.496 61.6884Z"
            fill="#A2A2A2" />
          <path
            d="M99.7582 27.6598C99.3975 22.426 95.1785 18.207 89.9445 17.8463C86.9775 17.6425 84.146 18.6433 81.9787 20.6665C79.8412 22.6618 78.6155 25.4823 78.6155 28.405C78.6155 29.7858 79.735 30.905 81.1155 30.905C82.496 30.905 83.6155 29.7858 83.6155 28.405C83.6155 26.8403 84.246 25.39 85.3905 24.3218C86.534 23.2545 88.0285 22.7263 89.601 22.8348C92.358 23.0248 94.5802 25.247 94.7702 28.0038C94.9622 30.788 93.1355 33.2485 90.427 33.8545C88.2325 34.3455 86.7 36.2525 86.7 38.4918V44.498C86.7 45.8788 87.8195 46.998 89.2 46.998C90.5807 46.998 91.7 45.8788 91.6997 44.498V38.6915C96.7372 37.4745 100.117 32.865 99.7582 27.6598Z"
            fill="#A2A2A2" />
          <path
            d="M90.9675 52.6197C90.5025 52.1547 89.8575 51.8872 89.2 51.8872C88.5425 51.8872 87.8975 52.1547 87.4325 52.6197C86.9675 53.0847 86.7 53.7297 86.7 54.3872C86.7 55.0472 86.9677 55.6922 87.4325 56.1572C87.8975 56.6222 88.5425 56.8872 89.2 56.8872C89.8575 56.8872 90.5025 56.6222 90.9675 56.1572C91.4325 55.6897 91.7 55.0472 91.7 54.3872C91.7 53.7297 91.4322 53.0847 90.9675 52.6197Z"
            fill="#A2A2A2" />
          <path
            d="M68.75 77.8047H16C14.6195 77.8047 13.5 78.9239 13.5 80.3047C13.5 81.6854 14.6195 82.8047 16 82.8047H68.75C70.1307 82.8047 71.25 81.6854 71.25 80.3047C71.25 78.9239 70.1305 77.8047 68.75 77.8047Z"
            fill="#A2A2A2" />
          <path
            d="M70.5173 92.5372C70.0525 92.0722 69.4075 91.8047 68.75 91.8047C68.0925 91.8047 67.4475 92.0722 66.9825 92.5372C66.5172 93.0022 66.25 93.6472 66.25 94.3047C66.25 94.9622 66.5175 95.6072 66.9825 96.0722C67.4475 96.5372 68.0925 96.8047 68.75 96.8047C69.4075 96.8047 70.0525 96.5372 70.5173 96.0722C70.9825 95.6072 71.25 94.9647 71.25 94.3047C71.25 93.6472 70.9823 93.0022 70.5173 92.5372Z"
            fill="#A2A2A2" />
          <path
            d="M58.9168 91.8047H16C14.6195 91.8047 13.5 92.9239 13.5 94.3047C13.5 95.6854 14.6195 96.8047 16 96.8047H58.9168C60.2975 96.8047 61.4168 95.6854 61.4168 94.3047C61.4168 92.9239 60.2973 91.8047 58.9168 91.8047Z"
            fill="#A2A2A2" />
          <path
            d="M52.5 63.8047H16C14.6195 63.8047 13.5 64.9239 13.5 66.3047C13.5 67.6854 14.6195 68.8047 16 68.8047H52.5C53.8807 68.8047 55 67.6854 55 66.3047C55 64.9239 53.8805 63.8047 52.5 63.8047Z"
            fill="#A2A2A2" />
        </g>
        <defs>
          <clipPath id="clip0_1250_14702">
            <rect width="128" height="128" fill="white" transform="translate(0 0.304688)" />
          </clipPath>
        </defs>
      </svg>
    </div>
  </div>
  <div
    class="mt-10 justify-between flex md:grid md:grid-cols-{{ len .Site.Data.faq }} overflow-y-scroll gap-3 mad:gap-6 md:overflow-y-auto">
    {{ range $i, $item := .Site.Data.faq }}
    {{ $titleKey := $item.title }}
    <div class="p-px bg-gradient-to-b to-[#393939] from-[#C3C3C3] rounded-xl faq-btn-parent">
      <input class="btn btn-lg md:text-lg w-full h-full bg-[#141B25] !rounded-xl no-animation faq-btn" type="radio"
        name="groups" aria-label="{{ $titleKey }}" {{ if eq $i 0 }}checked{{ end }} data-pcatus-value="{{ lower $item.title }}" />
    </div>
    {{ end }}
  </div>
  <div class="mt-10 bg-[#141B25] rounded-xl p-10 md:p-20" id="grouds-bundler">
    {{ range $i,$group := .Site.Data.faq }}
    {{ $group_id := lower $group.title }}
    <div class="join join-vertical w-full" id="{{ $group_id }}">
      {{ range $j, $item := $group.items }}
      <div class="collapse join-item" id="{{printf `%s.%s` $group_id $item.id}}"
        onclick="changeUrlID({{printf `%s.%s` $group_id $item.id}})">
        <input type="checkbox" name="{{ $group_id }}" class="peer" aria-checked="false" />
        <div class="collapse-title text-xl md:text-2xl font-bold text-neutral-50 items-center">
          <div>{{ $item.q }}</div>
        </div>
        <button class="btn btn-circle absolute right-0 btn-ghost peer-checked:hidden">
          <svg width="23" height="23" viewBox="0 0 23 23" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M11.2859 2.33252V21.2915" stroke="white" stroke-width="2.70843" stroke-linecap="round"
              stroke-linejoin="round" />
            <path d="M1.8064 11.812H20.7654" stroke="white" stroke-width="2.70843" stroke-linecap="round"
              stroke-linejoin="round" />
          </svg>
        </button>
        <button class="btn btn-circle absolute right-0 btn-ghost hidden peer-checked:block"
          style="text-align: -webkit-center;">
          <svg width="23" height="4" viewBox="0 0 23 4" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M2.28711 1.67773H21.2461" stroke="#217AFF" stroke-width="2.70843" stroke-linecap="round"
              stroke-linejoin="round" />
          </svg>
        </button>
        <div class="collapse-content prose lg:prose-xl">
          {{ $item.a | markdownify | safeHTML }}
          {{ with .Params.img }}
          <img src="{{ .Site.BaseURL }}assets/images/{{ . }}" alt="{{ $item.a }}" />
          {{ end }}
          {{ if isset $item "more" }}
          <a href="{{ $item.more }}" target="_blank" class="hover:text-opacity-80 font-bold text-[#1EA4E8] mt-5">Read
            more...</a>
          {{ end }}
        </div>
      </div>
      <div class="justify-center w-full text-center" style="text-align: -webkit-center;">
        <div class="divider w-9/12"></div>
      </div>
      {{ end }}
    </div>
    {{ end }}
  </div>
</section>
{{ end }}
{{ define "page_script" }}
<script>
  $(document).ready(function () {
    $("#grouds-bundler")
      .children()
      .each((i) => {
        if (i !== 0) {
          $(`#${$("#grouds-bundler").children().eq(i).attr("id")}`).hide();
        }
      });
    $("input[type=radio][name=groups]").change(() => {
      const value = $("input[type=radio][name=groups]:checked").attr(
        "data-pcatus-value",
      );
      if ($(this).attr("data-pcatus-value") !== value) {
        $("#grouds-bundler div.join").hide();
        $(`#${value}`).fadeIn();
      }
    });
  });
</script>
<script>
  function changeUrlID(id) {
    let currentUrl = window.location.href.split('#')[0];
    let newUrl = currentUrl + '#' + id;
    history.pushState({}, '', newUrl);
  }
</script>
<script>
  function scrollToElement(elementId) {
    $('html, body').animate({
      scrollTop: $('#' + elementId).offset().top
    }, 1000);
  }
  $(document).ready(function () {
    let element = document.getElementById(window.location.href.split('#')[1])
    if (element) {
      element.classList.add("collapse-open")
      scrollToElement(window.location.href.split('#')[1])
    }
  });
</script>

{{ end }}